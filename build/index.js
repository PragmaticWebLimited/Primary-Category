!function(){var e={703:function(e,t,r){"use strict";var n=r(414);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,o,a){if(a!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return r.PropTypes=r,r}},697:function(e,t,r){e.exports=r(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.apply(this,arguments)}var t=window.wp.element,n=window.wp.hooks,s=r(697),o=r.n(s),a=window.wp.data,i=window.wp.compose,c=window.wp.i18n,d=window.wp.apiFetch,l=r.n(d),p=window.wp.url,m=window.lodash;const u=e=>{const{value:r,id:n,terms:s,onChange:o}=e;return(0,t.createElement)("div",null,(0,t.createElement)("select",{className:"components-select-control__input",id:n,value:r,onChange:e=>{o(parseInt(e.target.value,10))}},s.map((e=>{return(0,t.createElement)("option",{key:e.id,value:e.id},(r=e.name,(n=document.createElement("textarea")).innerHTML=r,n.value));var r,n}))))};u.propTypes={terms:o().arrayOf(o().shape({id:o().string.isRequired,name:o().string.isRequired})),onChange:o().func.isRequired,id:o().string,value:o().string};var h=u;class f extends t.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this);const{fieldId:t}=e.taxonomy;this.input=document.getElementById(t),this.state={selectedTerms:[],selectedTermId:-1,terms:[]}}componentDidMount(){this.fetchTerms()}componentDidUpdate(e,t){if(e.selectedTermIds.length<this.props.selectedTermIds.length){const t=(0,m.difference)(this.props.selectedTermIds,e.selectedTermIds)[0];if(!this.termIsAvailable(t))return void this.fetchTerms()}e.selectedTermIds!==this.props.selectedTermIds&&this.updateSelectedTerms(this.state.terms,this.props.selectedTermIds),t.selectedTerms!==this.state.selectedTerms&&this.handleSelectedTermsChange()}handleSelectedTermsChange(){const{selectedTermId:e,selectedTerms:t}=this.state;t.find((t=>t.id===e))||this.onChange(t.length?t[0].id:-1)}termIsAvailable(e){return!!this.state.terms.find((t=>t.id===e))}fetchTerms(){const{taxonomy:e}=this.props;e&&(this.fetchRequest=l()({path:(0,p.addQueryArgs)(`/wp/v2/${e.restBase}`,{per_page:-1,orderby:"count",order:"desc",_fields:"id,name"})}),this.fetchRequest.then((e=>{this.setState({terms:e,selectedTerms:this.getSelectedTerms(e,this.props.selectedTermIds),selectedTermId:parseInt(this.input.value,10)})})))}getSelectedTerms(e,t){return e.filter((e=>t.includes(e.id)))}updateSelectedTerms(e,t){const r=this.getSelectedTerms(e,t);this.setState({selectedTerms:r})}onChange(e){this.input.value=-1===e?"":e,this.setState({selectedTermId:e})}render(){const{taxonomy:e}=this.props,{selectedTermId:r,selectedTerms:n}=this.state;if(n.length<2)return null;const s=`pragmatic-primary-${e.name}-picker`;return(0,t.createElement)("div",{className:"components-base-control__field"},(0,t.createElement)("label",{htmlFor:s,className:"components-base-control__label"},(0,c.sprintf)(
/* translators: %s expands to the taxonomy name. */
(0,c.__)("Select the primary %s","primary-taxonomy"),e.singularLabel.toLowerCase())),(0,t.createElement)(h,{value:r,onChange:this.onChange,id:s,terms:n}))}}f.propTypes={selectedTermIds:o().arrayOf(o().number),receiveEntityRecords:o().func,taxonomy:o().shape({name:o().string,fieldId:o().string,restBase:o().string,singularLabel:o().string})};var g=(0,i.compose)([(0,a.withSelect)(((e,t)=>{const r=e("core/editor"),{taxonomy:n}=t;return{selectedTermIds:r.getEditedPostAttribute(n.restBase)||[]}}))])(f);class y extends t.Component{taxonomyHasPrimaryTermSupport(){return!0}render(){const{OriginalComponent:e}=this.props;return this.taxonomyHasPrimaryTermSupport()?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,this.props),(0,t.createElement)(g,{taxonomy:{fieldId:"acf-field_primary_category",name:"category",restBase:"categories",singularLabel:"Video Category"}})):(0,t.createElement)(e,this.props)}}y.propTypes={OriginalComponent:o().func.isRequired,slug:o().string.isRequired};var T=y;(0,n.addFilter)("editor.PostTaxonomyType","pragmatic-primary-category",(r=>class extends t.Component{render(){return(0,t.createElement)(T,e({OriginalComponent:r},this.props))}}))}()}();